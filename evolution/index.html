<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evolution Framework: Seven Pillars of Holistic Personal Development</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h1>Evolution Framework</h1>
                        <p>Seven Pillars of Holistic Personal Development</p>
                    </div>
                    <nav class="main-nav">
                        <button 
                            v-for="view in navigationViews" 
                            :key="view.key"
                            class="nav-btn" 
                            :class="{ active: activeView === view.key }"
                            @click="setActiveView(view.key)">
                            {{ view.name }}
                        </button>
                    </nav>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <section v-if="activeView === 'dashboard'" id="dashboard-view" class="view active">
                <div class="container">
                    <div class="dashboard-header">
                        <h2>Personal Development Framework</h2>
                        <div class="overall-progress">
                            <span class="progress-label">Overall Progress</span>
                            <div class="progress-circle" :style="progressCircleStyle">
                                <span class="progress-percentage">{{ overallProgress }}%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="framework-diagram">
                        <div class="center-pillar" @click="showPillarModal('swadharma')">
                            <div class="pillar-content">
                                <h3>{{ frameworkData.framework.centerPillar.name }}</h3>
                                <div class="pillar-score" :class="getScoreColorClass(assessmentScores.swadharma)">
                                    {{ assessmentScores.swadharma }}%
                                </div>
                            </div>
                        </div>
                        
                        <div class="surrounding-pillars">
                            <div 
                                v-for="(pillar, index) in frameworkData.framework.surroundingPillars" 
                                :key="index"
                                :class="['pillar', `pillar-${index + 1}`]" 
                                @click="showPillarModal(getPillarKey(index))">
                                <div class="pillar-content">
                                    <h4>{{ pillar.name }}</h4>
                                    <div class="pillar-score" :class="getScoreColorClass(assessmentScores[getPillarKey(index)])">
                                        {{ assessmentScores[getPillarKey(index)] }}%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="phase-timeline">
                        <h3>Development Phases</h3>
                        <div class="timeline">
                            <div 
                                v-for="(phase, index) in developmentPhases" 
                                :key="index"
                                class="phase-item" 
                                :class="{ active: index === 0 }">
                                <div class="phase-content">
                                    <h4>{{ phase.name }}</h4>
                                    <p>{{ phase.duration }}</p>
                                    <span>{{ phase.description }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assessment View -->
            <section v-if="activeView === 'assessment'" id="assessment-view" class="view active">
                <div class="container">
                    <div class="assessment-header">
                        <h2>Assessment Center</h2>
                        <p>Evaluate your current level across all seven pillars</p>
                    </div>

                    <div class="pillar-selector">
                        <button 
                            v-for="(pillar, key) in pillarMappings" 
                            :key="key"
                            class="pillar-select-btn" 
                            :class="{ active: currentAssessment.pillar === key }"
                            @click="selectPillarForAssessment(key)">
                            {{ getPillarDisplayName(pillar.name) }}
                        </button>
                    </div>

                    <div class="assessment-content">
                        <div class="pillar-info">
                            <h3>{{ currentPillarData.name }}</h3>
                            <p>{{ currentPillarData.description }}</p>
                            <div class="stage-progress">
                                <div class="stages">
                                    <span 
                                        v-for="(stage, index) in currentPillarData.stages" 
                                        :key="index"
                                        class="stage" 
                                        :class="{ active: index === getCurrentStageIndex() }">
                                        {{ stage }}
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div v-show="!assessmentResults.show" class="assessment-form">
                            <div class="progress-bar">
                                <div class="progress-fill" :style="{ width: assessmentProgress + '%' }"></div>
                                <span class="progress-text">Question {{ currentAssessment.questionIndex + 1 }} of {{ currentPillarData.assessmentQuestions.length }}</span>
                            </div>

                            <div class="question-container">
                                <h4 class="question-text">{{ currentQuestion }}</h4>
                                <div class="rating-scale">
                                    <label 
                                        v-for="(rating, index) in ratingOptions" 
                                        :key="index"
                                        class="rating-option">
                                        <input 
                                            type="radio" 
                                            name="current-question" 
                                            :value="rating.value"
                                            v-model="currentAnswer">
                                        <span class="rating-label">{{ rating.label }}</span>
                                    </label>
                                </div>
                            </div>

                            <div class="assessment-controls">
                                <button 
                                    class="btn btn--secondary" 
                                    @click="handlePreviousQuestion"
                                    :disabled="currentAssessment.questionIndex === 0">
                                    Previous
                                </button>
                                <button 
                                    class="btn btn--primary" 
                                    @click="handleNextQuestion"
                                    :disabled="!currentAnswer">
                                    {{ isLastQuestion ? 'Complete Assessment' : 'Next' }}
                                </button>
                            </div>
                        </div>

                        <div v-show="assessmentResults.show" class="assessment-results">
                            <h4>Assessment Complete!</h4>
                            <div class="result-score">
                                <span class="score-label">Your Score:</span>
                                <span class="score-value" :class="getScoreColorClass(assessmentResults.percentage)">
                                    {{ assessmentResults.percentage }}/100
                                </span>
                            </div>
                            <div class="result-stage">
                                <span class="stage-label">Current Stage:</span>
                                <span class="stage-value">{{ assessmentResults.stage }}</span>
                            </div>
                            <div class="recommendations">
                                <h5>Recommendations:</h5>
                                <ul class="recommendation-list">
                                    <li v-for="(rec, index) in assessmentResults.recommendations" :key="index">
                                        {{ rec }}
                                    </li>
                                </ul>
                            </div>
                            <button class="btn btn--primary" @click="startNewAssessment">
                                Assess Another Pillar
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Progress View -->
            <section v-if="activeView === 'progress'" id="progress-view" class="view active">
                <div class="container">
                    <h2>Progress Tracking</h2>
                    
                    <div class="progress-overview">
                        <div class="progress-cards">
                            <div class="progress-card">
                                <h4>Overall Completion</h4>
                                <div class="chart-container" style="position: relative; height: 200px;">
                                    <canvas ref="radarChart" id="radarChart"></canvas>
                                </div>
                                <div class="chart-summary" v-if="completedAssessments > 0">
                                    <p><strong>{{ completedAssessments }}</strong> of <strong>{{ totalPillars }}</strong> assessments completed</p>
                                    <p>Overall Score: <strong>{{ overallProgress }}%</strong></p>
                                </div>
                                <div v-else class="chart-summary">
                                    <p>Complete your first assessment to see progress</p>
                                </div>
                            </div>
                            
                            <div class="progress-card">
                                <h4>Development Timeline</h4>
                                <div class="timeline-progress">
                                    <div 
                                        v-for="(item, index) in timelineItems" 
                                        :key="index"
                                        class="timeline-item" 
                                        :class="getTimelineStatus(index)">
                                        <div class="timeline-marker"></div>
                                        <div class="timeline-content">
                                            <h5>{{ item.title }}</h5>
                                            <p>{{ item.description }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pillar-progress">
                        <h3>Individual Pillar Progress</h3>
                        <div class="pillar-grid">
                            <div 
                                v-for="(pillar, key) in pillarMappings" 
                                :key="key"
                                class="pillar-progress-card"
                                @click="showPillarModal(key)">
                                <h4>{{ pillar.name }}</h4>
                                <div class="progress-bar-horizontal">
                                    <div 
                                        class="progress-fill" 
                                        :class="getScoreColorClass(assessmentScores[key])"
                                        :style="{ width: assessmentScores[key] + '%' }">
                                    </div>
                                </div>
                                <span class="progress-score">{{ assessmentScores[key] }}% Complete</span>
                                <div class="pillar-stage" v-if="assessmentScores[key] > 0">
                                    <small>Stage: {{ getPillarStage(key) }}</small>
                                </div>
                                <div v-else class="pillar-stage">
                                    <small>Not assessed</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Statistics -->
                    <div class="progress-stats" v-if="completedAssessments > 0">
                        <h3>Progress Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value">{{ highPerformingPillars }}</div>
                                <div class="stat-label">High Performing Pillars (≥61%)</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">{{ mediumPerformingPillars }}</div>
                                <div class="stat-label">Developing Pillars (31-60%)</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">{{ lowPerformingPillars }}</div>
                                <div class="stat-label">Foundation Pillars (≤30%)</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Integration View -->
            <section v-if="activeView === 'integration'" id="integration-view" class="view active">
                <div class="container">
                    <h2>Integration Matrix</h2>
                    <p>Discover synergies between pillars to accelerate your development</p>
                    
                    <!-- Integration Score Overview -->
                    <div class="integration-overview" v-if="completedAssessments > 1">
                        <div class="integration-stats">
                            <h3>Integration Opportunities</h3>
                            <div class="integration-cards">
                                <div 
                                    v-for="opportunity in topIntegrationOpportunities" 
                                    :key="opportunity.title"
                                    class="integration-opportunity"
                                    @click="selectSynergyFromCard(opportunity)">
                                    <h4>{{ opportunity.title }}</h4>
                                    <p>{{ opportunity.description }}</p>
                                    <div class="opportunity-strength">
                                        <span class="strength-label">Synergy Strength:</span>
                                        <span class="strength-value" :class="opportunity.strengthClass">
                                            {{ opportunity.strength }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="integration-matrix">
                        <div class="matrix-header">
                            <div class="matrix-cell"></div>
                            <div 
                                v-for="pillar in matrixPillars" 
                                :key="pillar"
                                class="matrix-cell pillar-header">
                                {{ pillar }}
                            </div>
                        </div>
                        <div 
                            v-for="(rowPillar, rowIndex) in matrixPillars" 
                            :key="rowPillar"
                            class="matrix-row">
                            <div class="matrix-cell pillar-header">{{ rowPillar }}</div>
                            <div 
                                v-for="(colPillar, colIndex) in matrixPillars" 
                                :key="colPillar"
                                class="matrix-intersection"
                                :class="getMatrixCellClass(rowIndex, colIndex, rowPillar, colPillar)"
                                :style="getMatrixCellStyle(rowIndex, colIndex)"
                                @click="showSynergy(rowPillar, colPillar)"
                                :title="getMatrixCellTooltip(rowIndex, colIndex, rowPillar, colPillar)">
                                <div v-if="rowIndex !== colIndex && findSynergy(rowPillar, colPillar)" 
                                     class="synergy-indicator">
                                    ✦
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="synergy-details">
                        <div class="synergy-card">
                            <h4>Pillar Synergies</h4>
                            <p v-if="!selectedSynergy.active">Click on matrix cells to discover powerful connections between pillars.</p>
                            <div v-else class="synergy-content active">
                                <h5 class="synergy-title">{{ selectedSynergy.title }}</h5>
                                <p class="synergy-description">{{ selectedSynergy.description }}</p>
                                <div v-if="selectedSynergy.actionItems" class="synergy-actions">
                                    <h6>Action Items for Integration:</h6>
                                    <ul>
                                        <li v-for="action in selectedSynergy.actionItems" :key="action">
                                            {{ action }}
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Available Synergies List -->
                        <div class="available-synergies">
                            <h4>All Available Synergies</h4>
                            <div class="synergy-list">
                                <div 
                                    v-for="synergy in frameworkData.integrationSynergies" 
                                    :key="synergy.pillar1 + synergy.pillar2"
                                    class="synergy-item"
                                    @click="selectSynergyFromList(synergy)">
                                    <div class="synergy-pillars">
                                        <strong>{{ getShortPillarName(synergy.pillar1) }} × {{ getShortPillarName(synergy.pillar2) }}</strong>
                                    </div>
                                    <div class="synergy-text">{{ synergy.synergy }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Planning View -->
            <section v-if="activeView === 'planning'" id="planning-view" class="view active">
                <div class="container">
                    <h2>Action Planning</h2>
                    
                    <!-- Planning Dashboard -->
                    <div class="planning-dashboard" v-if="completedAssessments > 0">
                        <div class="planning-summary">
                            <h3>Your Development Summary</h3>
                            <div class="summary-cards">
                                <div class="summary-card">
                                    <div class="summary-value">{{ getStrongestPillar().score }}%</div>
                                    <div class="summary-label">Strongest Pillar</div>
                                    <div class="summary-detail">{{ getStrongestPillar().name }}</div>
                                </div>
                                <div class="summary-card">
                                    <div class="summary-value">{{ getWeakestPillar().score }}%</div>
                                    <div class="summary-label">Focus Area</div>
                                    <div class="summary-detail">{{ getWeakestPillar().name }}</div>
                                </div>
                                <div class="summary-card">
                                    <div class="summary-value">{{ getAverageGrowthPotential() }}%</div>
                                    <div class="summary-label">Growth Potential</div>
                                    <div class="summary-detail">Average improvement opportunity</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="planning-overview">
                        <div class="planning-cards">
                            <div class="planning-card">
                                <h4>Development Priorities</h4>
                                <div class="priority-list">
                                    <div 
                                        v-for="(priority, index) in developmentPriorities" 
                                        :key="priority.pillar"
                                        class="priority-item"
                                        :class="`priority-${index + 1}`">
                                        <div class="priority-rank">{{ index + 1 }}</div>
                                        <div class="priority-content">
                                            <span class="priority-pillar">{{ priority.pillar }}</span>
                                            <span class="priority-action">{{ priority.action }}</span>
                                            <span class="priority-timeline">{{ priority.timeline }}</span>
                                        </div>
                                        <div v-if="priority.score !== undefined" class="priority-score">
                                            Current: {{ priority.score }}%
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="planning-card">
                                <h4>Personalized Goals</h4>
                                <div class="goal-timeline">
                                    <div 
                                        v-for="period in personalizedGoals" 
                                        :key="period.days"
                                        class="goal-period">
                                        <h5>{{ period.days }} Days</h5>
                                        <ul class="goal-list">
                                            <li 
                                                v-for="(goal, index) in period.goals" 
                                                :key="index"
                                                class="goal-item">
                                                <input type="checkbox" :id="`goal-${period.days}-${index}`" v-model="goal.completed">
                                                <label :for="`goal-${period.days}-${index}`">{{ goal.text }}</label>
                                                <span v-if="goal.pillar" class="goal-pillar">{{ goal.pillar }}</span>
                                            </li>
                                        </ul>
                                        <div class="period-progress">
                                            <div class="progress-bar-small">
                                                <div class="progress-fill" :style="{ width: getPeriodProgress(period) + '%' }"></div>
                                            </div>
                                            <span class="progress-text">{{ getPeriodProgress(period) }}% Complete</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Items -->
                    <div class="action-items">
                        <h3>Immediate Actions</h3>
                        <div class="action-grid">
                            <div 
                                v-for="action in immediateActions" 
                                :key="action.id"
                                class="action-item"
                                :class="{ completed: action.completed }">
                                <input type="checkbox" :id="`action-${action.id}`" v-model="action.completed">
                                <label :for="`action-${action.id}`" class="action-content">
                                    <h5>{{ action.title }}</h5>
                                    <p>{{ action.description }}</p>
                                    <span class="action-pillar">{{ action.pillar }}</span>
                                    <span class="action-duration">{{ action.estimatedTime }}</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="resource-library">
                        <h3>Curated Resources</h3>
                        <div class="resource-filter">
                            <button 
                                v-for="category in resourceCategories" 
                                :key="category.title"
                                class="filter-btn"
                                :class="{ active: activeResourceFilter === category.title }"
                                @click="setActiveResourceFilter(category.title)">
                                {{ category.title }}
                            </button>
                        </div>
                        <div class="resource-categories">
                            <div 
                                v-for="category in filteredResourceCategories" 
                                :key="category.title"
                                class="resource-category">
                                <h4>{{ category.title }}</h4>
                                <ul>
                                    <li v-for="resource in category.resources" :key="resource.title">
                                        <a :href="resource.link" target="_blank" class="resource-link">
                                            <span class="resource-title">{{ resource.title }}</span>
                                            <span v-if="resource.description" class="resource-description">
                                                {{ resource.description }}
                                            </span>
                                            <span v-if="resource.type" class="resource-type">{{ resource.type }}</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Pillar Detail Modal -->
        <div v-show="modal.show" class="modal" id="pillar-modal">
            <div class="modal-overlay" @click="closePillarModal"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">{{ modal.pillar?.name }}</h3>
                    <button class="modal-close" @click="closePillarModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="pillar-description">
                        <p class="pillar-desc-text">{{ modal.pillar?.description }}</p>
                    </div>
                    <div class="pillar-stages">
                        <h4>Evolutionary Stages</h4>
                        <div class="stages-list">
                            <div 
                                v-for="(stage, index) in modal.pillar?.stages" 
                                :key="index"
                                class="stage-item" 
                                :class="{ current: index === modal.currentStageIndex }">
                                <div class="stage-name">{{ stage }}</div>
                                <div class="stage-description">
                                    {{ index <= modal.currentStageIndex ? 'Current Stage' : 'Future Stage' }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn--primary" @click="startAssessmentFromModal">
                            Take Assessment
                        </button>
                        <button class="btn btn--secondary" @click="viewProgressFromModal">
                            View Progress
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h4>Evolution Framework</h4>
                        <p>Holistic Personal Development System</p>
                    </div>
                    <div class="footer-section">
                        <h5>Framework</h5>
                        <ul>
                            <li><a href="#" target="_blank">Methodology</a></li>
                            <li><a href="#" target="_blank">Research</a></li>
                            <li><a href="#" target="_blank">Case Studies</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h5>Support</h5>
                        <ul>
                            <li><a href="#" target="_blank">Help Center</a></li>
                            <li><a href="#" target="_blank">Community</a></li>
                            <li><a href="#" target="_blank">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>